<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <link rel="stylesheet" href="/css/semantic.min.css">
  </head>
  <body>

    <script type="text/x-handlebars">

    <div class="ui segment">
      <div class="center aligned starter column padding">
        <h1 class="ui header text center">BOOK APP</h1>
      </div>
    </div>

    <div class="ui page grid">
      <div class="row">
        <div class="four wide column">
          <div class="ui vertical steps">
            <div class="step">
              <div class="content">
                <a class="item">{{#link-to "authors"}}Authors{{/link-to}}</a>
              </div>
            </div>
            <div class="step">
              <div class="content">
                <a class="item">{{#link-to "books"}}Books{{/link-to}}</a>
              </div>
            </div>
          </div>
        </div>

        <div class="twelve wide column">
          <div class="ui segment">
            {{outlet}}
          </div>
        </div>
      </div>
    </div>

    </script>

    <script type="text/x-handlebars" id="index">
      <h1>THIS IS THE INDEX</h1>
    </script>

    <script type="text/x-handlebars" id="authors">
      <div class="ui two column grid">
        <div class="column">
          <div class="ui divided list">
            <h2>Authors</h2>
            {{#each author in model}}
              <div class="item">
                <div class="content">
                  <a>{{#link-to "authors.show" author}}{{author.name}}{{/link-to}}</a>
                </div>
              </div>
            {{/each}}
          </div>
        </div>
        <div class="column">
          {{outlet}}
        </div>
      </div>
    </script>

    <script type="text/x-handlebars" id="authors/show">
      <h2>{{this.name}}</h2>
      <img {{bind-attr src=this.image}}/>
      <p>Bio: {{this.bio}}</p>

      <h4><strong>Books</strong></h4>
        {{#each book in this.books}}
          <a>{{#link-to 'books.show' book}}{{book.title}}{{/link-to}}</a>
        {{/each}}
    </script>

    <script type="text/x-handlebars" id="books">
      <div class="ui two column grid">
        <div class="column">
          <div class="ui divided list">
            <h2>Books</h2>
            {{#each book in model}}
              <div class="item">
                <div class="content">
                  <a>{{#link-to "books.show" book}}{{book.title}}{{/link-to}}</a>
                </div>
              </div>
            {{/each}}
          </div>
      </div>
        <div class="column">
          {{outlet}}
        </div>
      </div>
    </script>

    <script type="text/x-handlebars" id="books/show">
      <div class="ui card">
        <div class="content">
          <h1>{{this.title}}</h1>
        </div>
        <div class="content divider"></div>
        <img class= "ui image rounded"{{bind-attr src=this.image}}/>
        <div class="content">
          <p><strong>Author:</strong> {{this.author.name}}</p>
          <p>{{this.genre}} | {{this.year}}</p>
          <a>{{#link-to "books.reviews" this.reviews}}Reviews{{/link-to}}</a>
        </div>
      </div>
    </script>

    <script type="text/x-handlebars" id="books/reviews">
      <div class="ui card">
        <div class="content">
          <h3>Reviews</h3>
        </div>
        <div class="content">
          {{#each review in this}}
          <h5><strong>{{review.book.title}}</strong></h5>
          <div class="ui segment">
            <p><strong>Username:</strong> {{review.userName}}</p>
            <p>{{review.text}}</p>
          </div>
          {{/each}}
        </div>
      </div>
    </script>

    <script src="js/lib/jquery-1.10.2.js"></script>
    <script src="js/lib/ember-template-compiler-1.10.0.js"></script>
    <script src="js/lib/ember-1.10.0.debug.js"></script>
    <script src="js/lib/ember-data.js"></script>
    <script src="js/app.js"></script>
    <script src="js/router.js"></script>
    <script src="js/routes/authors.js"></script>
    <script src="js/routes/books.js"></script>
    <script src="js/models/author.js"></script>
    <script src="js/models/book.js"></script>
    <script src="js/models/review.js"></script>

  </body>
</html>
