<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <link rel="stylesheet" href="/css/semantic.min.css">
  </head>
  <body>

    <script type="text/x-handlebars">
    <div class="ui two column page grid">
      <div class="row">
        <div class="center aligned starter column padding">
          <h1 class="ui header">BOOK APP</h1>
        </div>
        <div class="ui four wide unordered vertical steps">
          <div class="ui vertical menu">
            <a class="item">{{#link-to "authors"}}Authors{{/link-to}}</a>
            <a class="item">{{#link-to "books"}}Books{{/link-to}}</a>
          </div>
        </div>
      </div>

      <div class="ui twelve wide column card">
        <div class="row">
          <div class="column">
            {{outlet}}
          </div>
        </div>
      </div>
    </div>

    </script>

    <script type="text/x-handlebars" id="index">
      <h1>THIS IS THE INDEX</h1>
    </script>

    <script type="text/x-handlebars" id="authors">
      <h1>AUTHORS INDEX</h1>
      {{#each author in model}}
        <a>{{#link-to "authors.show" author}}{{author.name}}{{/link-to}}</a>
      {{/each}}

      {{outlet}}
    </script>

    <script type="text/x-handlebars" id="authors/show">
      <p>{{this.name}}</p>
      <img {{bind-attr src=this.image}}/>
      <p>{{this.bio}}</p>

      {{#each book in this.books}}
        <p>{{book.title}}</p>
      {{/each}}
    </script>

    <script type="text/x-handlebars" id="books">
      <h1>BOOKS INDEX</h1>
      {{#each book in model}}
        <a>{{#link-to 'books.show' book}}{{book.title}}{{/link-to}}</a>
      {{/each}}

      {{outlet}}
    </script>

    <script type="text/x-handlebars" id="books/show">
      <h1>{{this.title}}</h1>
      <img {{bind-attr src=this.image}}/>
      <p>{{this.genre}}</p>
      <p>{{this.year}}</p>
      <p>{{this.author.name}}</p>
      <a>{{#link-to "books.reviews" this.reviews}}Reviews{{/link-to}}</a>
      {{outlet}}
    </script>

    <script type="text/x-handlebars" id="books/reviews">
      <h1>Reviews</h1>
      {{#each review in this}}
      <p>{{review.book.title}}</p>
      <p>{{review.userName}}</p>
      <p>{{review.text}}</p>
      {{/each}}
    </script>

    <script src="js/lib/jquery-1.10.2.js"></script>
    <script src="js/lib/ember-template-compiler-1.10.0.js"></script>
    <script src="js/lib/ember-1.10.0.debug.js"></script>
    <script src="js/lib/ember-data.js"></script>
    <script src="js/app.js"></script>
    <script src="js/router.js"></script>
    <script src="js/routes/authors.js"></script>
    <script src="js/routes/books.js"></script>
    <script src="js/models/author.js"></script>
    <script src="js/models/book.js"></script>
    <script src="js/models/review.js"></script>

  </body>
</html>
